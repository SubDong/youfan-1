<ion-view view-title="编辑拿手菜" cache-view="false" data-ng-init="load()">
    <ion-nav-buttons side="left">
        <button class="button button-clear button-calm" ui-sref="m_dishes.nsc"><i
                class="icon ion-ios-arrow-back"></i></button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <button class="button button-clear button-calm" data-ng-click="doCheckDishes()" data-ng-disabled="isActive">
            保存
        </button>
    </ion-nav-buttons>

    <ion-content class="padding-top">
        <div class="list list-inset">
            <div class="item item-divider">
                <span style="color: red">*</span>添加菜品图片(最多四张)
                <ion-list>
                    <ion-item ng-repeat="item in imgs">
                        <img ng-src="{{item.url}}" style="width: 128px; height: 64px">
                        <i class="icon ion-android-remove-circle" data-ng-click="removePic($index)"></i>
                    </ion-item>
                </ion-list>
                <button data-ng-if="imgs.length < 4" class="button button-calm" data-ng-click="addQtcPic()"><i
                        class="icon ion-android-add-circle"></i></button>
            </div>
            <div class="item item-divider">
                <ion-toggle toggle-class="toggle-calm" ng-model="dishes.staple"><span style="color: red">*</span>是否是主食：
                </ion-toggle>
            </div>
            <label class="item item-input">
                <i class="icon ion-social-snapchat"></i>
                <input type="text" data-ng-model="dishes.name" placeholder="添加菜品名称">
            </label>
            <label class="item item-input">
                <i class="icon ion-social-snapchat"></i>
                <input type="text" data-ng-model="dishes.price" placeholder="输入价格">

                <p style="color:#1dbeaf; margin-right: 10px;">元/份</p>
            </label>
            <label class="item item-input">
                <i class="icon ion-social-snapchat"></i>
                <input type="text" data-ng-model="dishes.stock" placeholder="请输入菜品库存">

                <p style="color:#1dbeaf; margin-right: 10px;">份</p>
            </label>
            <label class="item item-input">
                <textarea rows="5" data-ng-model="dishes.description" placeholder="请输入菜品描述"></textarea>
            </label>

            <div class="item item-divider">特色（每条最多10个字）</div>
            <label class="item item-input item-stacked-label">
                <input type="text" data-ng-model="dishes.features[0]" placeholder="菜的特色">
                <input type="text" data-ng-model="dishes.features[1]" placeholder="菜的特色">
                <input type="text" data-ng-model="dishes.features[2]" placeholder="菜的特色">
                <input type="text" data-ng-model="dishes.features[3]" placeholder="菜的特色">
            </label>

            <div class="item item-divider">口味</div>
            <ion-radio ng-repeat="item in kwItems"
                       ng-model="dishes.taste" ng-value="item.kw">
                {{item.text}}
            </ion-radio>

        </div>

        <div class="row">
            <div class="col col-50">
                <button data-ng-if="!dishes.sale" class="button button-full button-assertive"
                        data-ng-click="confirmRemoveDishes()">删除
                </button>
            </div>
            <div class="col col-50">
                <button data-ng-if="!dishes.sale" class="button button-full button-assertive"
                        data-ng-click="confirmChangeDishes()">设置为其他菜
                </button>
            </div>
        </div>
    </ion-content>

</ion-view>
